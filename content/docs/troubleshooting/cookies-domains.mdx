---
title: Cookies & Domains
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Steps } from 'fumadocs-ui/components/steps';

Incorrect domain or scheme leads to missing sessions after redirect.

<Steps>

### 1) Keep NEXT_PUBLIC_APP_URL stable

Match the origin serving your app. Do not mix `localhost` and custom hosts.

### 2) Secure flag

- Development: `Secure=false` is handled automatically
- Production: must be `Secure=true` when using HTTPS

### 3) SameSite

Defaults to `Lax`. Use `None` only for known cross-site flows and set `Secure=true`.

### 4) Subdomains

If using `app.example.com` and `api.example.com`, set `cookie.domain=.example.com`.

</Steps>

<Callout>
Always test cookie behavior in an incognito window and clear site data between changes.
</Callout>

