---
title: Contributing
description: How to contribute to Keyloom development
---

import { Callout } from 'fumadocs-ui/components/callout'
import { Steps, Step } from 'fumadocs-ui/components/steps'

# Contributing to Keyloom

We welcome contributions to Keyloom! This guide will help you get started with contributing to the project.

## Ways to Contribute

- üêõ **Report bugs** - Help us identify and fix issues
- üí° **Suggest features** - Share ideas for new functionality
- üìù **Improve documentation** - Help make our docs better
- üîß **Submit code** - Fix bugs or implement new features
- üß™ **Write tests** - Improve test coverage
- üí¨ **Help others** - Answer questions in discussions

## Getting Started

<Steps>

<Step>

### Fork and Clone

1. Fork the repository on GitHub
2. Clone your fork locally:

```bash
git clone https://github.com/your-username/keyloom.git
cd keyloom
```

</Step>

<Step>

### Install Dependencies

```bash
# Install dependencies
pnpm install -w

# Build all packages
pnpm build
```

</Step>

<Step>

### Set Up Development Environment

```bash
# Start development mode
pnpm dev

# Run tests
pnpm test

# Lint code
pnpm lint
```

</Step>

</Steps>

## Development Workflow

### Project Structure

```
keyloom/
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ core/           # Core authentication logic
‚îÇ   ‚îú‚îÄ‚îÄ nextjs/         # Next.js integration
‚îÇ   ‚îú‚îÄ‚îÄ server/         # Standalone server
‚îÇ   ‚îú‚îÄ‚îÄ cli/            # Command-line tools
‚îÇ   ‚îú‚îÄ‚îÄ adapters/       # Database adapters
‚îÇ   ‚îî‚îÄ‚îÄ providers/      # OAuth providers
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îú‚îÄ‚îÄ playground/     # Development playground
‚îÇ   ‚îî‚îÄ‚îÄ next-app-router/ # Next.js example
‚îú‚îÄ‚îÄ docs/               # Documentation
‚îî‚îÄ‚îÄ keyloom-docs/       # Documentation site
```

### Making Changes

1. **Create a branch** for your changes:
   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **Make your changes** following our coding standards

3. **Write tests** for new functionality

4. **Run tests** to ensure everything works:
   ```bash
   pnpm test
   pnpm lint
   pnpm typecheck
   ```

5. **Commit your changes** with a descriptive message:
   ```bash
   git commit -m "feat: add new authentication provider"
   ```

6. **Push to your fork** and create a pull request

### Coding Standards

#### TypeScript

- Use TypeScript for all new code
- Provide proper type definitions
- Avoid `any` types when possible
- Use strict mode settings

```typescript
// Good
interface UserData {
  id: string;
  email: string;
  name: string | null;
}

// Avoid
const userData: any = { ... };
```

#### Code Style

We use Biome for code formatting and linting:

```bash
# Format code
pnpm format

# Fix linting issues
pnpm format-and-lint:fix
```

#### Naming Conventions

- **Functions**: camelCase (`getUserById`)
- **Classes**: PascalCase (`UserManager`)
- **Constants**: UPPER_SNAKE_CASE (`DEFAULT_TTL`)
- **Files**: kebab-case (`user-service.ts`)

### Testing

#### Writing Tests

- Write tests for all new functionality
- Use descriptive test names
- Test both success and error cases
- Mock external dependencies

```typescript
// Good test example
describe("User Registration", () => {
  it("should create user with valid email and password", async () => {
    const { user } = await register(
      { email: "test@example.com", password: "password123" },
      { adapter: mockAdapter, hasher: mockHasher }
    );
    
    expect(user.email).toBe("test@example.com");
    expect(user.id).toBeDefined();
  });
  
  it("should throw error for duplicate email", async () => {
    await expect(
      register(
        { email: "existing@example.com", password: "password123" },
        { adapter: mockAdapter, hasher: mockHasher }
      )
    ).rejects.toThrow("EMAIL_EXISTS");
  });
});
```

#### Running Tests

```bash
# Run all tests
pnpm test

# Run tests for specific package
pnpm -C packages/core test

# Run tests in watch mode
pnpm test --watch

# Run tests with coverage
pnpm test --coverage
```

### Documentation

#### Writing Documentation

- Use clear, concise language
- Provide code examples
- Include both basic and advanced usage
- Update relevant documentation when making changes

#### Documentation Structure

- **API docs**: Document all public APIs
- **Guides**: Step-by-step tutorials
- **Examples**: Working code samples
- **Migration guides**: Help users upgrade

### Commit Messages

We follow the [Conventional Commits](https://www.conventionalcommits.org/) specification:

```bash
# Format
<type>[optional scope]: <description>

# Examples
feat: add GitHub OAuth provider
fix: resolve session expiration issue
docs: update installation guide
test: add unit tests for login function
refactor: simplify adapter interface
```

**Types:**
- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation changes
- `test`: Adding or updating tests
- `refactor`: Code refactoring
- `perf`: Performance improvements
- `chore`: Maintenance tasks

## Pull Request Process

### Before Submitting

1. **Ensure tests pass**: `pnpm test`
2. **Check linting**: `pnpm lint`
3. **Verify types**: `pnpm typecheck`
4. **Update documentation** if needed
5. **Add changeset** for user-facing changes:
   ```bash
   pnpm changeset
   ```

### Pull Request Template

When creating a pull request, include:

- **Description** of changes made
- **Motivation** for the changes
- **Testing** performed
- **Breaking changes** (if any)
- **Related issues** (if applicable)

### Review Process

1. **Automated checks** must pass
2. **Code review** by maintainers
3. **Testing** in different environments
4. **Documentation review** if applicable
5. **Approval** and merge

## Release Process

### Changesets

We use changesets for version management:

```bash
# Add a changeset
pnpm changeset

# Version packages
pnpm changeset version

# Publish packages
pnpm release
```

### Release Types

- **Patch** (1.0.1): Bug fixes, documentation updates
- **Minor** (1.1.0): New features, non-breaking changes
- **Major** (2.0.0): Breaking changes

## Community Guidelines

### Code of Conduct

We follow the [Contributor Covenant Code of Conduct](https://www.contributor-covenant.org/). Please be respectful and inclusive in all interactions.

### Getting Help

- **GitHub Discussions**: Ask questions and share ideas
- **GitHub Issues**: Report bugs and request features
- **Discord**: Join our community chat (coming soon)

### Issue Guidelines

When reporting bugs:

1. **Search existing issues** first
2. **Use the issue template**
3. **Provide minimal reproduction**
4. **Include environment details**
5. **Add relevant labels**

Example bug report:
```markdown
## Bug Description
Session cookies are not being set in production

## Steps to Reproduce
1. Deploy to Vercel
2. Try to login
3. Session is not persisted

## Expected Behavior
Session should persist after login

## Environment
- Keyloom version: 1.6.0
- Next.js version: 14.0.0
- Node.js version: 18.17.0
- Deployment: Vercel
```

## Development Tips

### Local Development

```bash
# Start all examples in development mode
pnpm dev

# Work on specific package
cd packages/core
pnpm dev

# Test changes in playground
cd examples/playground
pnpm dev
```

### Debugging

```bash
# Enable debug logging
DEBUG=keyloom:* pnpm dev

# Run with Node.js inspector
node --inspect-brk ./node_modules/.bin/vitest
```

### Package Linking

```bash
# Link packages for local development
pnpm link --global @keyloom/core
pnpm link --global @keyloom/nextjs

# In your test project
pnpm link --global @keyloom/core @keyloom/nextjs
```

## Recognition

Contributors are recognized in:

- **README.md** contributors section
- **CHANGELOG.md** release notes
- **GitHub releases** acknowledgments

## Questions?

- **GitHub Discussions**: General questions and ideas
- **GitHub Issues**: Bug reports and feature requests
- **Email**: maintainers@keyloom.dev

Thank you for contributing to Keyloom! üéâ
