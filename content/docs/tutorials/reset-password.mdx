---
title: Reset password
---

import { Step, Steps } from 'fumadocs-ui/components/steps';

import { Tabs } from 'fumadocs-ui/components/tabs';


Implement the password reset confirmation page with token and new password inputs.

<Callout>
The ResetPasswordForm handles both requesting a reset link and confirming a new password. If you already sent the link elsewhere, you can start directly at the confirmation stage by entering the token.
</Callout>

## Steps

<Steps>

### 1) Ensure API handler is set up

```ts
// App Router
import { createNextHandler } from '@keyloom/nextjs'
export const { GET, POST } = createNextHandler((await import('@/keyloom.config')).default)
```

```ts
// Pages Router
import { createPagesApiHandler } from '@keyloom/nextjs'
export default createPagesApiHandler((await import('@/keyloom.config')).default)
```

### 2) Add the Reset Password page

<Tabs>
<Tabs.Tab title="App Router">

```tsx
// app/(auth)/reset-password/page.tsx
"use client"
import { Card } from '@keyloom/ui/components/card'
import { ResetPasswordForm } from '@keyloom/ui/auth'

export const metadata = { title: 'Reset password' }
export default function Page() {
  return (
    <div className="min-h-dvh grid place-items-center p-6">
      <Card className="w-full max-w-md p-6">
        <h1 className="text-2xl font-semibold mb-4">Reset password</h1>
        <ResetPasswordForm />
      </Card>
    </div>
  )
}
```

</Tabs.Tab>
<Tabs.Tab title="Pages Router">

```tsx
// pages/reset-password.tsx
import dynamic from 'next/dynamic'
const ResetPasswordForm = dynamic(() => import('@keyloom/ui/auth').then(m => m.ResetPasswordForm), { ssr: false })
export default function Page() {
  return (
    <div className="min-h-screen grid place-items-center p-6">
      <div className="w-full max-w-md">
        <h1 className="text-2xl font-semibold mb-4">Reset password</h1>
        <ResetPasswordForm />
      </div>
    </div>
  )
}
```

</Tabs.Tab>
</Tabs>

### 3) What the form does

- Stage 1 (request): POST /api/auth/reset/request with email
- Stage 2 (confirm): POST /api/auth/reset/confirm with email, token, new password

</Steps>

## Troubleshooting

- Invalid or expired token: generate a new reset email and ensure time skew is reasonable.
- Password policy rejected: check your server-side password requirements.
- CSRF failures: confirm you invoke Keyloomâ€™s route handler.

